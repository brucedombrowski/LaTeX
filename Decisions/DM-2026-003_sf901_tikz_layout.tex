% ============================================================================
% DM-2026-003: SF901 Layout Implementation (TikZ vs Alternatives)
% ============================================================================
% Thin wrapper for Decision Memorandum - see _template.tex for shared preamble
% ============================================================================

% ----------------------------------------------------------------------------
% DOCUMENT VARIABLES
% ----------------------------------------------------------------------------
\newcommand{\UniqueID}{DM-2026-003}
\newcommand{\DocumentDate}{January 19, 2026}
\newcommand{\AuthorName}{PDF Tools Working Group}
\newcommand{\AuthorTitle}{Technical Lead}
\newcommand{\ToField}{Document Processing Stakeholders}
\newcommand{\SubjectField}{SF901 Layout Implementation (TikZ vs Alternatives)}
\newcommand{\OPRField}{PdfTools}

% ----------------------------------------------------------------------------
% DOCUMENT CONTENT
% ----------------------------------------------------------------------------
\newcommand{\dmContent}{%
\begin{enumerate}

\dmsection{Purpose}

This memorandum documents the decision to use TikZ with absolute positioning for the SF901 CUI Cover Sheet template layout, rather than alternative LaTeX layout approaches.

\dmsection{Background}

The SF901 template requires precise reproduction of a government form with:
\begin{itemize}
    \item Full-page purple background with white margin border
    \item Two white content boxes at specific positions
    \item Text elements positioned precisely on both purple and white areas
    \item Exact visual match to the official GSA Standard Form 901
\end{itemize}

Several implementation approaches were evaluated for achieving this layout in LaTeX.

\dmsection{Analysis}

\textbf{Approach A: TikZ with Absolute Positioning}
\begin{itemize}
    \item Uses TikZ \texttt{overlay} and \texttt{remember picture} for full-page drawing
    \item All elements positioned with absolute coordinates from page origin
    \item Provides pixel-perfect control over placement
    \item Requires manual adjustment when elements change
    \item No automatic content flow between sections
    \item Well-suited for fixed-format government forms
\end{itemize}

\textbf{Approach B: Standard LaTeX with Boxes/Minipages}
\begin{itemize}
    \item Uses standard LaTeX flow with colored boxes
    \item Content flows automatically within containers
    \item Difficult to achieve full-page colored background extending to margins
    \item Less precise control over exact positioning
    \item Better suited for dynamic content documents
\end{itemize}

\textbf{Approach C: tcolorbox Package}
\begin{itemize}
    \item Specialized package for colored boxes with content
    \item Better handling of content within colored regions
    \item Still requires absolute positioning for purple background
    \item Adds package dependency
    \item Hybrid approach still needed for full layout
\end{itemize}

\textbf{Approach D: PDF Form Overlay}
\begin{itemize}
    \item Use official GSA PDF and overlay custom text
    \item Preserves exact original layout
    \item Requires external PDF manipulation tools (pdftk, qpdf)
    \item Text positioning on existing PDF is technically challenging
    \item Runtime dependency on external tools
\end{itemize}

\dmsection{Decision}

\textbf{Approved:} Approach A --- TikZ with absolute positioning.

\textbf{Rationale:}
\begin{itemize}
    \item SF901 is a fixed government form that has not changed since November 2018
    \item Low maintenance burden due to form stability
    \item Pixel-perfect reproduction of official form is achievable
    \item No external tool dependencies
    \item Single LaTeX file contains complete template
    \item TikZ is part of standard TeX Live distribution
    \item Absolute positioning trade-off is acceptable for stable, fixed-format forms
\end{itemize}

\textbf{Trade-offs Accepted:}
\begin{itemize}
    \item Manual positioning required (no auto-flow)
    \item Changes to spacing require adjusting multiple coordinate values
    \item Less intuitive than CSS/HTML-style layout
    \item Acceptable because form layout is fixed and rarely changes
\end{itemize}

\dmsection{Implementation Notes}

The SF901.tex template uses:
\begin{itemize}
    \item \texttt{tikzpicture} with \texttt{[remember picture, overlay]} for full-page drawing
    \item \texttt{calc} library for coordinate calculations
    \item \texttt{current page.north west} as origin reference
    \item All vertical positions as negative offsets from top
    \item Customizable variables at top of file for colors and margins
    \item Requires two xelatex passes for correct positioning
\end{itemize}

\textbf{Maintenance Guidance:}
\begin{itemize}
    \item When adjusting vertical spacing, update all dependent element positions
    \item Keep official SF901 PDF for visual comparison during changes
    \item Run \texttt{build.sh} to generate PNG comparison images
\end{itemize}

\dmsection{References}

\begin{itemize}
    \item TikZ/PGF Manual: \url{https://ctan.org/pkg/pgf}
    \item Official SF901 Form: \url{https://www.archives.gov/cui/registry/forms}
    \item Related Decision: DM-2026-001 (SF901 LaTeX Recreation)
    \item Related Decision: DM-2026-002 (Font Selection)
\end{itemize}

\end{enumerate}
}

% ----------------------------------------------------------------------------
% INCLUDE SHARED TEMPLATE
% ----------------------------------------------------------------------------
\input{_template.tex}
